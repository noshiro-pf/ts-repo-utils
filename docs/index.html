<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>ts-repo-utils</title><meta name="description" content="Documentation for ts-repo-utils"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><link rel="stylesheet" href="assets/typedoc-github-style.css"/></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">ts-repo-utils</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"></div><div class="tsd-panel tsd-typography"><h1 id="ts-repo-utils" class="tsd-anchor-link">ts-repo-utils<a href="#ts-repo-utils" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="https://www.npmjs.com/package/ts-repo-utils"><img src="https://img.shields.io/npm/v/ts-repo-utils.svg" alt="npm version"></a></p>
<h2 id="documentation" class="tsd-anchor-link">Documentation<a href="#documentation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>API reference: <a href="https://noshiro-pf.github.io/ts-repo-utils/">https://noshiro-pf.github.io/ts-repo-utils/</a></li>
</ul>
<p><a href="https://www.npmjs.com/package/ts-repo-utils"><img src="https://img.shields.io/npm/dm/ts-repo-utils.svg" alt="npm downloads"></a>
<a href="./LICENSE"><img src="https://img.shields.io/npm/l/ts-repo-utils.svg" alt="License"></a>
<a href="https://codecov.io/gh/noshiro-pf/ts-repo-utils"><img src="https://codecov.io/gh/noshiro-pf/ts-repo-utils/graph/badge.svg?token=S4688Q0CX3" alt="codecov"></a></p>
<p>Utilities for TypeScript Repositories.</p>
<p>A comprehensive toolkit for managing TypeScript projects with strict ESM support, providing essential utilities for file validation, code formatting, git operations, and project automation.</p>
<h2 id="installation" class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-3">--save-dev</span><span class="hl-1"> </span><span class="hl-2">ts-repo-utils</span>
</code><button type="button">Copy</button></pre>

<pre><code class="bash"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-3">--dev</span><span class="hl-1"> </span><span class="hl-2">ts-repo-utils</span>
</code><button type="button">Copy</button></pre>

<pre><code class="bash"><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-3">--save-dev</span><span class="hl-1"> </span><span class="hl-2">ts-repo-utils</span>
</code><button type="button">Copy</button></pre>

<h2 id="cli-commands" class="tsd-anchor-link">CLI Commands<a href="#cli-commands" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><code>ts-repo-utils</code> provides several CLI commands that can be used directly or through npm scripts.</p>
<h3 id="" class="tsd-anchor-link"><code>assert-repo-is-clean</code></h3><p>Checks if the repository is clean (i.e., there are no uncommitted changes, untracked files, or staged files) and exits with code 1 if any are present.</p>
<pre><code class="bash"><span class="hl-4"># Basic usage</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">exec</span><span class="hl-1"> </span><span class="hl-3">--</span><span class="hl-1"> </span><span class="hl-2">assert-repo-is-clean</span><br/><br/><span class="hl-4"># Silent mode</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">exec</span><span class="hl-1"> </span><span class="hl-3">--</span><span class="hl-1"> </span><span class="hl-2">assert-repo-is-clean</span><span class="hl-1"> </span><span class="hl-3">--silent</span>
</code><button type="button">Copy</button></pre>

<pre><code class="yaml"><span class="hl-4"># Example in GitHub Actions</span><br/><span class="hl-1">- </span><span class="hl-5">name</span><span class="hl-1">: </span><span class="hl-6">Format check</span><br/><span class="hl-1">  </span><span class="hl-5">run</span><span class="hl-1">: </span><span class="hl-6">npm run fmt</span><br/><span class="hl-1">- </span><span class="hl-5">name</span><span class="hl-1">: </span><span class="hl-6">Check if there is no file diff</span><br/><span class="hl-1">  </span><span class="hl-5">run</span><span class="hl-1">: </span><span class="hl-6">npm exec -- assert-repo-is-clean</span>
</code><button type="button">Copy</button></pre>

<p><strong>Options:</strong></p>
<ul>
<li><code>--silent</code> - Suppress output messages (optional)</li>
</ul>
<h3 id="-1" class="tsd-anchor-link"><code>format-uncommitted</code><a href="#-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Formats only untracked/modified files using Prettier.</p>
<pre><code class="bash"><span class="hl-4"># Basic usage</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">exec</span><span class="hl-1"> </span><span class="hl-3">--</span><span class="hl-1"> </span><span class="hl-2">format-uncommitted</span><br/><br/><span class="hl-4"># Silent mode</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">exec</span><span class="hl-1"> </span><span class="hl-3">--</span><span class="hl-1"> </span><span class="hl-2">format-uncommitted</span><span class="hl-1"> </span><span class="hl-3">--silent</span>
</code><button type="button">Copy</button></pre>

<p><strong>Options:</strong></p>
<ul>
<li><code>--exclude-untracked</code> - Exclude untracked files (default: false)</li>
<li><code>--exclude-modified</code> - Exclude modified files (default: false)</li>
<li><code>--exclude-staged</code> - Exclude staged files (default: false)</li>
<li><code>--silent</code> - Suppress output messages (default: false)</li>
<li><code>--ignore-unknown</code> - Skip files without a Prettier parser instead of erroring (default: true)</li>
</ul>
<h3 id="-2" class="tsd-anchor-link"><code>format-diff-from</code><a href="#-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Formats only files that differ from the specified base branch or commit.</p>
<pre><code class="bash"><span class="hl-4"># Format files different from main branch</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">exec</span><span class="hl-1"> </span><span class="hl-3">--</span><span class="hl-1"> </span><span class="hl-2">format-diff-from</span><span class="hl-1"> </span><span class="hl-2">main</span><br/><br/><span class="hl-4"># Format files different from origin/main</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">exec</span><span class="hl-1"> </span><span class="hl-3">--</span><span class="hl-1"> </span><span class="hl-2">format-diff-from</span><span class="hl-1"> </span><span class="hl-2">origin/main</span><br/><br/><span class="hl-4"># Exclude untracked files</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">exec</span><span class="hl-1"> </span><span class="hl-3">--</span><span class="hl-1"> </span><span class="hl-2">format-diff-from</span><span class="hl-1"> </span><span class="hl-2">main</span><span class="hl-1"> </span><span class="hl-3">--exclude-untracked</span><br/><br/><span class="hl-4"># Silent mode</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">exec</span><span class="hl-1"> </span><span class="hl-3">--</span><span class="hl-1"> </span><span class="hl-2">format-diff-from</span><span class="hl-1"> </span><span class="hl-2">main</span><span class="hl-1"> </span><span class="hl-3">--silent</span>
</code><button type="button">Copy</button></pre>

<p>Example in npm scripts:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">    </span><span class="hl-7">&quot;scripts&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">        </span><span class="hl-7">&quot;fmt&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;npm exec -- format-diff-from origin/main&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Options:</strong></p>
<ul>
<li><code>&lt;base&gt;</code> - Base branch name or commit hash to compare against (required)</li>
<li><code>--exclude-untracked</code> - Exclude untracked files (default: false)</li>
<li><code>--exclude-modified</code> - Exclude modified files (default: false)</li>
<li><code>--exclude-staged</code> - Exclude staged files (default: false)</li>
<li><code>--silent</code> - Suppress output messages (default: false)</li>
<li><code>--ignore-unknown</code> - Skip files without a Prettier parser instead of erroring (default: true)</li>
</ul>
<h3 id="-3" class="tsd-anchor-link"><code>gen-index-ts</code><a href="#-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Generates index.ts files recursively in target directories with automatic barrel exports.</p>
<pre><code class="bash"><span class="hl-4"># Basic usage with required options</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">exec</span><span class="hl-1"> </span><span class="hl-3">--</span><span class="hl-1"> </span><span class="hl-2">gen-index-ts</span><span class="hl-1"> </span><span class="hl-2">./src</span><span class="hl-1"> </span><span class="hl-3">--target-ext</span><span class="hl-1"> </span><span class="hl-2">.mts</span><span class="hl-1"> </span><span class="hl-3">--index-ext</span><span class="hl-1"> </span><span class="hl-2">.mts</span><span class="hl-1"> </span><span class="hl-3">--export-ext</span><span class="hl-1"> </span><span class="hl-2">.mjs</span><br/><br/><span class="hl-4"># With formatting command</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">exec</span><span class="hl-1"> </span><span class="hl-3">--</span><span class="hl-1"> </span><span class="hl-2">gen-index-ts</span><span class="hl-1"> </span><span class="hl-2">./src</span><span class="hl-1"> </span><span class="hl-3">--target-ext</span><span class="hl-1"> </span><span class="hl-2">.mts</span><span class="hl-1"> </span><span class="hl-3">--index-ext</span><span class="hl-1"> </span><span class="hl-2">.mts</span><span class="hl-1"> </span><span class="hl-3">--export-ext</span><span class="hl-1"> </span><span class="hl-2">.mjs</span><span class="hl-1"> </span><span class="hl-3">--fmt</span><span class="hl-1"> </span><span class="hl-2">&#39;npm run fmt&#39;</span><br/><br/><span class="hl-4"># Multiple target extensions</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">exec</span><span class="hl-1"> </span><span class="hl-3">--</span><span class="hl-1"> </span><span class="hl-2">gen-index-ts</span><span class="hl-1"> </span><span class="hl-2">./src</span><span class="hl-1"> </span><span class="hl-3">--target-ext</span><span class="hl-1"> </span><span class="hl-2">.mts</span><span class="hl-1"> </span><span class="hl-3">--target-ext</span><span class="hl-1"> </span><span class="hl-2">.tsx</span><span class="hl-1"> </span><span class="hl-3">--index-ext</span><span class="hl-1"> </span><span class="hl-2">.mts</span><span class="hl-1"> </span><span class="hl-3">--export-ext</span><span class="hl-1"> </span><span class="hl-2">.mjs</span><br/><br/><span class="hl-4"># With exclude patterns</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">exec</span><span class="hl-1"> </span><span class="hl-3">--</span><span class="hl-1"> </span><span class="hl-2">gen-index-ts</span><span class="hl-1"> </span><span class="hl-2">./src</span><span class="hl-1"> </span><span class="hl-3">--target-ext</span><span class="hl-1"> </span><span class="hl-2">.ts</span><span class="hl-1"> </span><span class="hl-3">--index-ext</span><span class="hl-1"> </span><span class="hl-2">.ts</span><span class="hl-1"> </span><span class="hl-3">--export-ext</span><span class="hl-1"> </span><span class="hl-2">.js</span><span class="hl-1"> </span><span class="hl-3">--exclude</span><span class="hl-1"> </span><span class="hl-2">&#39;*.test.ts&#39;</span><span class="hl-1"> </span><span class="hl-3">--exclude</span><span class="hl-1"> </span><span class="hl-2">&#39;*.spec.ts&#39;</span><br/><br/><span class="hl-4"># Example in npm scripts</span><br/><span class="hl-0">&quot;gi&quot;</span><span class="hl-0">:</span><span class="hl-1"> </span><span class="hl-2">&quot;gen-index-ts ./src --index-ext .mts --export-ext .mjs --target-ext .mts --target-ext .tsx --fmt &#39;npm run fmt&#39;&quot;</span>
</code><button type="button">Copy</button></pre>

<p><strong>Features:</strong></p>
<ul>
<li>Creates barrel exports for all subdirectories</li>
<li>Supports complex glob exclusion patterns (using micromatch)</li>
<li>Automatically formats generated files using the project's Prettier config</li>
<li>Works with both single directories and directory arrays</li>
<li>Respects source and export extension configuration</li>
</ul>
<p><strong>Benefits:</strong></p>
<ul>
<li>Prevents forgetting to export modules</li>
<li>TypeScript can detect duplicate variables, type names, etc.</li>
</ul>
<p><strong>Options:</strong></p>
<ul>
<li><code>&lt;target-directory&gt;</code> - Directory where the index file will be generated (comma-separated list can be used)</li>
<li><code>--target-ext</code> - File extensions to include in the index file (required, can be specified multiple times)</li>
<li><code>--index-ext</code> - Extension of the index file to be generated (required)</li>
<li><code>--export-ext</code> - Extension of the export statements in the index file (required, or 'none')</li>
<li><code>--exclude</code> - Glob patterns of files to exclude (optional, can be specified multiple times)</li>
<li><code>--fmt</code> - Command to format after generating the index file (optional)</li>
<li><code>--silent</code> - Suppress output messages (optional)</li>
</ul>
<h3 id="-4" class="tsd-anchor-link"><code>check-should-run-type-checks</code><a href="#-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Checks whether TypeScript type checks should run based on file changes from the base branch. Optimizes CI/CD pipelines by skipping type checks when only non-TypeScript files have changed. The determination of &quot;non-TypeScript files&quot; is based on configurable ignore patterns, which can be specified using the <code>--paths-ignore</code> option.</p>
<pre><code class="bash"><span class="hl-4"># Basic usage (compares against origin/main)</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">exec</span><span class="hl-1"> </span><span class="hl-3">--</span><span class="hl-1"> </span><span class="hl-2">check-should-run-type-checks</span><br/><br/><span class="hl-4"># Custom base branch</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">exec</span><span class="hl-1"> </span><span class="hl-3">--</span><span class="hl-1"> </span><span class="hl-2">check-should-run-type-checks</span><span class="hl-1"> </span><span class="hl-3">--base-branch</span><span class="hl-1"> </span><span class="hl-2">origin/develop</span><br/><br/><span class="hl-4"># Custom ignore patterns</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">exec</span><span class="hl-1"> </span><span class="hl-3">--</span><span class="hl-1"> </span><span class="hl-2">check-should-run-type-checks</span><span class="hl-1"> </span><span class="hl-8">\</span><br/><span class="hl-1">  </span><span class="hl-3">--paths-ignore</span><span class="hl-1"> </span><span class="hl-2">&#39;.github/&#39;</span><span class="hl-1"> </span><span class="hl-8">\</span><br/><span class="hl-1">  </span><span class="hl-3">--paths-ignore</span><span class="hl-1"> </span><span class="hl-2">&#39;docs/&#39;</span><span class="hl-1"> </span><span class="hl-8">\</span><br/><span class="hl-1">  </span><span class="hl-3">--paths-ignore</span><span class="hl-1"> </span><span class="hl-2">&#39;**.md&#39;</span><span class="hl-1"> </span><span class="hl-8">\</span><br/><span class="hl-1">  </span><span class="hl-3">--paths-ignore</span><span class="hl-1"> </span><span class="hl-2">&#39;**.yml&#39;</span>
</code><button type="button">Copy</button></pre>

<pre><code class="yaml"><span class="hl-4"># Example in GitHub Actions</span><br/><span class="hl-1">- </span><span class="hl-5">name</span><span class="hl-1">: </span><span class="hl-6">Check if type checks should run</span><br/><span class="hl-1">  </span><span class="hl-5">id</span><span class="hl-1">: </span><span class="hl-6">check_diff</span><br/><span class="hl-1">  </span><span class="hl-5">run</span><span class="hl-1">: </span><span class="hl-6">npm exec -- check-should-run-type-checks</span><br/><br/><span class="hl-1">- </span><span class="hl-5">name</span><span class="hl-1">: </span><span class="hl-6">Run type checks</span><br/><span class="hl-1">  </span><span class="hl-5">if</span><span class="hl-1">: </span><span class="hl-6">steps.check_diff.outputs.should_run == &#39;true&#39;</span><br/><span class="hl-1">  </span><span class="hl-5">run</span><span class="hl-1">: </span><span class="hl-6">npm run type-check</span>
</code><button type="button">Copy</button></pre>

<p><strong>Options:</strong></p>
<ul>
<li><code>--paths-ignore</code> - Patterns to ignore when checking if type checks should run (optional, can be specified multiple times)
<ul>
<li>Supports exact file matches: <code>.cspell.json</code></li>
<li>Directory prefixes: <code>docs/</code> (matches any file in docs directory)</li>
<li>File extensions: <code>**.md</code> (matches any markdown file)</li>
<li>Default: <code>['LICENSE', '.editorconfig', '.gitignore', '.cspell.json', '.markdownlint-cli2.mjs', '.npmignore', '.prettierignore', '.prettierrc', 'docs/', '**.md', '**.txt']</code></li>
</ul>
</li>
<li><code>--base-branch</code> - Base branch to compare against for determining changed files (default: <code>origin/main</code>)</li>
</ul>
<p><strong>GitHub Actions Integration:</strong></p>
<p>When running in GitHub Actions, the command sets the <code>GITHUB_OUTPUT</code> environment variable with <code>should_run=true</code> or <code>should_run=false</code>, which can be used in subsequent steps.</p>
<h2 id="api-reference" class="tsd-anchor-link">API Reference<a href="#api-reference" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="command-execution" class="tsd-anchor-link">Command Execution<a href="#command-execution" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="-5" class="tsd-anchor-link"><code>$(command: string, options?: ExecOptions): Promise&lt;ExecResult&gt;</code><a href="#-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Executes a shell command asynchronously with type-safe results.</p>
<pre><code class="tsx"><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-10">$</span><span class="hl-1">, </span><span class="hl-10">Result</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-repo-utils&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// or</span><br/><span class="hl-4">// import &quot;ts-repo-utils&quot;; // $ and Result are globally defined in ts-repo-utils</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">result</span><span class="hl-1"> = </span><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">$</span><span class="hl-1">(</span><span class="hl-2">&#39;npm test&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-9">if</span><span class="hl-1"> (</span><span class="hl-10">Result</span><span class="hl-1">.</span><span class="hl-0">isOk</span><span class="hl-1">(</span><span class="hl-10">result</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-10">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Tests passed:&#39;</span><span class="hl-1">, </span><span class="hl-10">result</span><span class="hl-1">.</span><span class="hl-10">value</span><span class="hl-1">.</span><span class="hl-10">stdout</span><span class="hl-1">);</span><br/><span class="hl-1">} </span><span class="hl-9">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-10">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-2">&#39;Tests failed:&#39;</span><span class="hl-1">, </span><span class="hl-10">result</span><span class="hl-1">.</span><span class="hl-10">value</span><span class="hl-1">.</span><span class="hl-10">message</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Options:</strong></p>
<ul>
<li><code>silent?: boolean</code> - Don't log command/output (default: false)</li>
<li><code>'node:child_process'</code> <code>exec</code> function options</li>
</ul>
<p><strong>Return Type:</strong></p>
<pre><code class="tsx"><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-9">type</span><span class="hl-1"> </span><span class="hl-10">ExecException</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node:child_process&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">type</span><span class="hl-1"> </span><span class="hl-12">Ret</span><span class="hl-1"> = </span><span class="hl-12">Promise</span><span class="hl-1">&lt;</span><br/><span class="hl-1">    </span><span class="hl-12">Result</span><span class="hl-1">&lt;</span><br/><span class="hl-1">        </span><span class="hl-12">Readonly</span><span class="hl-1">&lt;{ </span><span class="hl-10">stdout</span><span class="hl-1">: </span><span class="hl-12">string</span><span class="hl-1"> | </span><span class="hl-12">Buffer</span><span class="hl-1">; </span><span class="hl-10">stderr</span><span class="hl-1">: </span><span class="hl-12">string</span><span class="hl-1"> | </span><span class="hl-12">Buffer</span><span class="hl-1"> }&gt;,</span><br/><span class="hl-1">        </span><span class="hl-12">ExecException</span><br/><span class="hl-1">    &gt;</span><br/><span class="hl-1">&gt;;</span>
</code><button type="button">Copy</button></pre>

<h3 id="script-execution-utilities" class="tsd-anchor-link">Script Execution Utilities<a href="#script-execution-utilities" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="-6" class="tsd-anchor-link"><code>isDirectlyExecuted(fileUrl: string): boolean</code><a href="#-6" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Determines whether a script is being executed directly via CLI or imported as a module. This is useful for creating scripts that can both be imported as libraries and executed directly.</p>
<pre><code class="tsx"><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-10">isDirectlyExecuted</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-repo-utils&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// or</span><br/><span class="hl-4">// import &quot;ts-repo-utils&quot;; // isDirectlyExecuted is globally defined in ts-repo-utils</span><br/><br/><span class="hl-4">// calculator.mjs</span><br/><span class="hl-9">export</span><span class="hl-1"> </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-0">add</span><span class="hl-1"> = (</span><span class="hl-10">a</span><span class="hl-1">: </span><span class="hl-12">number</span><span class="hl-1">, </span><span class="hl-10">b</span><span class="hl-1">: </span><span class="hl-12">number</span><span class="hl-1">): </span><span class="hl-12">number</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-10">a</span><span class="hl-1"> + </span><span class="hl-10">b</span><span class="hl-1">;</span><br/><br/><span class="hl-9">export</span><span class="hl-1"> </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-0">multiply</span><span class="hl-1"> = (</span><span class="hl-10">a</span><span class="hl-1">: </span><span class="hl-12">number</span><span class="hl-1">, </span><span class="hl-10">b</span><span class="hl-1">: </span><span class="hl-12">number</span><span class="hl-1">): </span><span class="hl-12">number</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-10">a</span><span class="hl-1"> * </span><span class="hl-10">b</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Only run main logic when executed directly: node calculator.mjs (or tsx calculator.mts)</span><br/><span class="hl-4">// When imported elsewhere, only the functions are available</span><br/><span class="hl-9">if</span><span class="hl-1"> (</span><span class="hl-0">isDirectlyExecuted</span><span class="hl-1">(</span><span class="hl-9">import</span><span class="hl-1">.</span><span class="hl-10">meta</span><span class="hl-1">.</span><span class="hl-10">url</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-10">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Calculator CLI&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-10">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;2 + 3 =&#39;</span><span class="hl-1">, </span><span class="hl-0">add</span><span class="hl-1">(</span><span class="hl-13">2</span><span class="hl-1">, </span><span class="hl-13">3</span><span class="hl-1">));</span><br/><br/><span class="hl-1">    </span><span class="hl-10">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;4 Ã— 5 =&#39;</span><span class="hl-1">, </span><span class="hl-0">multiply</span><span class="hl-1">(</span><span class="hl-13">4</span><span class="hl-1">, </span><span class="hl-13">5</span><span class="hl-1">));</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>When executed directly (<code>node calculator.mjs</code>), it runs the main function and prints the results. When imported (<code>import { add } from './calculator.mjs'</code>), it only provides the functions without executing the main logic.</p>
<p>NOTE: If you use <a href="https://www.npmjs.com/package/tsx">tsx</a> or <a href="https://www.npmjs.com/package/ts-node">ts-node</a>, run your scripts with the extension <code>.(m)ts</code> instead of <code>.(m)js</code> so that <code>isDirectlyExecuted</code> can correctly determine if the script is executed directly.</p>
<p><strong>Use Cases:</strong></p>
<ul>
<li>Creating CLI tools that can also be used as libraries</li>
<li>Preventing automatic execution when a file is imported</li>
<li>Running initialization code only during direct execution</li>
</ul>
<h3 id="path-and-file-system-utilities" class="tsd-anchor-link">Path and File System Utilities<a href="#path-and-file-system-utilities" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="-7" class="tsd-anchor-link"><code>pathExists(filePath: string): Promise&lt;boolean&gt;</code><a href="#-7" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Checks if a file or directory exists at the specified path.</p>
<pre><code class="tsx"><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-10">pathExists</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-repo-utils&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">exists</span><span class="hl-1"> = </span><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">pathExists</span><span class="hl-1">(</span><span class="hl-2">&#39;./src/index.ts&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-10">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-10">exists</span><span class="hl-1"> </span><span class="hl-9">satisfies</span><span class="hl-1"> </span><span class="hl-12">boolean</span><span class="hl-1">); </span><span class="hl-4">// true or false</span>
</code><button type="button">Copy</button></pre>

<h4 id="-8" class="tsd-anchor-link"><code>assertPathExists(filePath: string, description?: string): Promise&lt;void&gt;</code><a href="#-8" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Validates that a path exists and exits with code 1 if it doesn't.</p>
<pre><code class="tsx"><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-10">assertPathExists</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-repo-utils&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// If the file doesn&#39;t exist, this will exit the process with code 1</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">assertPathExists</span><span class="hl-1">(</span><span class="hl-2">&#39;./src/index.ts&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;Entry point file&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h4 id="-9" class="tsd-anchor-link"><code>checkExt(config: CheckExtConfig): Promise&lt;Result&lt;undefined, Readonly&lt;{ message: string; files: readonly string[] }&gt;&gt;&gt;</code><a href="#-9" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Runs the extension validation and reports findings without exiting the process. Useful when you want to combine extension checks with other validations or surface the failure information in a custom way.</p>
<pre><code class="tsx"><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-10">assertExt</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-repo-utils&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">assertExt</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-10">directories:</span><span class="hl-1"> [</span><br/><span class="hl-1">        {</span><br/><span class="hl-1">            </span><span class="hl-10">path:</span><span class="hl-1"> </span><span class="hl-2">&#39;./src&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-10">extension:</span><span class="hl-1"> </span><span class="hl-2">&#39;.ts&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-10">ignorePatterns:</span><span class="hl-1"> [</span><span class="hl-2">&#39;*.d.ts&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;*.test.ts&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">        {</span><br/><span class="hl-1">            </span><span class="hl-10">path:</span><span class="hl-1"> </span><span class="hl-2">&#39;./scripts&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-10">extension:</span><span class="hl-1"> </span><span class="hl-2">&#39;.mjs&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h4 id="-10" class="tsd-anchor-link"><code>assertExt(config: CheckExtConfig): Promise&lt;void&gt;</code><a href="#-10" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Validates that all files in specified directories have the correct extensions. Exits with code 1 if any files have incorrect extensions.</p>
<pre><code class="tsx"><span class="hl-3">type</span><span class="hl-1"> </span><span class="hl-12">CheckExtConfig</span><span class="hl-1"> = </span><span class="hl-12">Readonly</span><span class="hl-1">&lt;{</span><br/><span class="hl-1">    </span><span class="hl-10">directories</span><span class="hl-1">: </span><span class="hl-3">readonly</span><span class="hl-1"> </span><span class="hl-12">Readonly</span><span class="hl-1">&lt;{</span><br/><span class="hl-1">        </span><span class="hl-10">path</span><span class="hl-1">: </span><span class="hl-12">string</span><span class="hl-1">; </span><span class="hl-4">// Directory path to check</span><br/><span class="hl-1">        </span><span class="hl-10">extension</span><span class="hl-1">: </span><span class="hl-12">string</span><span class="hl-1">; </span><span class="hl-4">// Expected file extension (including the dot)</span><br/><span class="hl-1">        </span><span class="hl-10">ignorePatterns</span><span class="hl-1">?: </span><span class="hl-3">readonly</span><span class="hl-1"> </span><span class="hl-12">string</span><span class="hl-1">[]; </span><span class="hl-4">// Optional glob patterns to ignore</span><br/><span class="hl-1">    }&gt;[];</span><br/><span class="hl-1">}&gt;;</span>
</code><button type="button">Copy</button></pre>

<p><strong>Configuration Type:</strong></p>
<pre><code class="tsx"><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-10">makeEmptyDir</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-repo-utils&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Reset ./tmp/build before writing artifacts</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">makeEmptyDir</span><span class="hl-1">(</span><span class="hl-2">&#39;./tmp/build&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="result-utilities" class="tsd-anchor-link">Result Utilities<a href="#result-utilities" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="-11" class="tsd-anchor-link"><code>createResultAssert(options): (config) =&gt; Promise&lt;TOk&gt;</code><a href="#-11" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Creates an assert-style wrapper around a function that returns a <code>Result</code>, exiting the process with a non-zero code when the underlying function yields an error. The wrapper keeps success handling customizable while reusing the composable Result-based variant elsewhere.</p>
<pre><code class="tsx"><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-10">repoIsDirty</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-repo-utils&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">isDirty</span><span class="hl-1"> = </span><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">repoIsDirty</span><span class="hl-1">();</span><br/><br/><span class="hl-9">if</span><span class="hl-1"> (</span><span class="hl-10">isDirty</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-10">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Repository has uncommitted changes&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Options:</strong></p>
<ul>
<li><code>run</code> - Function returning a <code>Result</code> to assert (required)</li>
<li><code>onSuccess</code> - Optional callback invoked with the OK value</li>
<li><code>onError</code> - Optional callback invoked with the Err value before exiting</li>
<li><code>exitCode</code> - Custom exit code on failure (default: <code>1</code>)</li>
</ul>
<h4 id="-12" class="tsd-anchor-link"><code>makeEmptyDir(dir: string): Promise&lt;void&gt;</code><a href="#-12" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Removes any existing directory at <code>dir</code> and recreates it, ensuring a clean target for generated assets or build output.</p>
<pre><code class="tsx"><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-10">assertRepoIsClean</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-repo-utils&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Use in CI/build scripts to ensure clean state</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">assertRepoIsClean</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<p>This helper uses <code>fs.rm</code> with <code>recursive</code> cleanup before calling <code>fs.mkdir</code>, so prefer it over manual <code>rimraf</code> + <code>mkdir</code> sequences when scripting workflows.</p>
<h3 id="git-repository-utilities" class="tsd-anchor-link">Git Repository Utilities<a href="#git-repository-utilities" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="-13" class="tsd-anchor-link"><code>repoIsDirty(): Promise&lt;boolean&gt;</code><a href="#-13" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Checks if the repository has uncommitted changes.</p>
<pre><code class="tsx"><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-9">type</span><span class="hl-1"> </span><span class="hl-10">ExecException</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node:child_process&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">type</span><span class="hl-1"> </span><span class="hl-12">Ret</span><span class="hl-1"> = </span><span class="hl-12">Result</span><span class="hl-1">&lt;</span><br/><span class="hl-1">    </span><span class="hl-3">readonly</span><span class="hl-1"> </span><span class="hl-12">string</span><span class="hl-1">[],</span><br/><span class="hl-1">    </span><span class="hl-12">ExecException</span><span class="hl-1"> | </span><span class="hl-12">Readonly</span><span class="hl-1">&lt;{ </span><span class="hl-10">message</span><span class="hl-1">: </span><span class="hl-12">string</span><span class="hl-1"> }&gt;</span><br/><span class="hl-1">&gt;;</span>
</code><button type="button">Copy</button></pre>

<h4 id="-14" class="tsd-anchor-link"><code>assertRepoIsClean(): Promise&lt;void&gt;</code><a href="#-14" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Checks if the repository is clean and exits with code 1 if it has uncommitted changes (shows changes and diff).
(Function version of the <code>assert-repo-is-clean</code> command)</p>
<pre><code class="tsx"><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-10">checkShouldRunTypeChecks</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-repo-utils&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Use default settings (compare against origin/main)</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">shouldRun</span><span class="hl-1"> = </span><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">checkShouldRunTypeChecks</span><span class="hl-1">();</span><br/><br/><span class="hl-9">if</span><span class="hl-1"> (</span><span class="hl-10">shouldRun</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">$</span><span class="hl-1">(</span><span class="hl-2">&#39;npm run type-check&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">// Custom ignore patterns and base branch</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">shouldRun2</span><span class="hl-1"> = </span><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">checkShouldRunTypeChecks</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-10">pathsIgnore:</span><span class="hl-1"> [</span><span class="hl-2">&#39;.eslintrc.json&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;docs/&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;**.md&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;scripts/&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">    </span><span class="hl-10">baseBranch:</span><span class="hl-1"> </span><span class="hl-2">&#39;origin/develop&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>Options:</strong></p>
<ul>
<li><code>silent?</code> - Suppress output messages (default: false)</li>
</ul>
<h4 id="getting-git-diff-files" class="tsd-anchor-link">Getting Git diff files<a href="#getting-git-diff-files" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><h5 id="-15" class="tsd-anchor-link"><code>getUntrackedFiles(options?)</code><a href="#-15" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Gets untracked files from the working tree (files not added to git).<br>
Runs <code>git ls-files --others --exclude-standard [--deleted]</code></p>
<h5 id="-16" class="tsd-anchor-link"><code>getModifiedFiles(options?)</code><a href="#-16" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Gets modified files from the working tree (files that have been changed but not staged).<br>
Runs <code>git diff --name-only [--diff-filter=d]</code></p>
<h5 id="-17" class="tsd-anchor-link"><code>getStagedFiles(options?)</code><a href="#-17" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Gets files that are staged for commit (files added with git add).<br>
Runs <code>git diff --staged --name-only [--diff-filter=d]</code></p>
<h5 id="-18" class="tsd-anchor-link"><code>getDiffFrom(base: string, options?)</code><a href="#-18" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Gets files that differ from the specified base branch or commit.<br>
Runs <code>git diff --name-only &lt;base&gt; [--diff-filter=d]</code></p>
<p><strong>Common options:</strong></p>
<ul>
<li><code>excludeDeleted?: boolean</code> - Exclude deleted files (for formatters etc.) (default: true)</li>
<li><code>silent?: boolean</code> - Don't log command/output (default: false)</li>
</ul>
<p><strong>Common Return Type:</strong></p>
<pre><code class="tsx"><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-10">formatFilesGlob</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-repo-utils&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Format all TypeScript files in src</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">formatFilesGlob</span><span class="hl-1">(</span><span class="hl-2">&#39;src/**/*.ts&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Format specific files</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">formatFilesGlob</span><span class="hl-1">(</span><span class="hl-2">&#39;src/{index,utils}.ts&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// With custom ignore function</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">formatFilesGlob</span><span class="hl-1">(</span><span class="hl-2">&#39;src/**/*.ts&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-0">ignore</span><span class="hl-10">:</span><span class="hl-1"> (</span><span class="hl-10">filePath</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-10">filePath</span><span class="hl-1">.</span><span class="hl-0">includes</span><span class="hl-1">(</span><span class="hl-2">&#39;generated&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-10">ignoreUnknown:</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1">, </span><span class="hl-4">// Error on files without parser</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h4 id="build-optimization-utilities" class="tsd-anchor-link">Build Optimization Utilities<a href="#build-optimization-utilities" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><h5 id="-19" class="tsd-anchor-link"><code>checkShouldRunTypeChecks(options?): Promise&lt;boolean&gt;</code><a href="#-19" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Checks whether TypeScript type checks should run based on file changes from the base branch. Optimizes CI/CD pipelines by skipping type checks when only non-TypeScript files have changed.
(Function version of the <code>check-should-run-type-checks</code> command)</p>
<pre><code class="tsx"><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-10">formatUncommittedFiles</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-repo-utils&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Format only modified files</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">formatUncommittedFiles</span><span class="hl-1">();</span><br/><br/><span class="hl-4">// With custom options</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">formatUncommittedFiles</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-10">untracked:</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1">, </span><span class="hl-4">// Skip untracked files</span><br/><span class="hl-1">    </span><span class="hl-0">ignore</span><span class="hl-10">:</span><span class="hl-1"> (</span><span class="hl-10">filePath</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-10">filePath</span><span class="hl-1">.</span><span class="hl-0">includes</span><span class="hl-1">(</span><span class="hl-2">&#39;test&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>Options:</strong></p>
<ul>
<li><code>pathsIgnore?</code> - Patterns to ignore when checking if type checks should run:
<ul>
<li>Exact file matches: <code>.cspell.json</code></li>
<li>Directory prefixes: <code>docs/</code> (matches any file in docs directory)</li>
<li>File extensions: <code>**.md</code> (matches any markdown file)</li>
<li>Default: <code>['LICENSE', '.editorconfig', '.gitignore', '.cspell.json', '.markdownlint-cli2.mjs', '.npmignore', '.prettierignore', '.prettierrc', 'docs/', '**.md', '**.txt']</code></li>
</ul>
</li>
<li><code>baseBranch?</code> - Base branch to compare against (default: <code>origin/main</code>)</li>
</ul>
<h3 id="code-formatting-utilities" class="tsd-anchor-link">Code Formatting Utilities<a href="#code-formatting-utilities" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="-20" class="tsd-anchor-link"><code>formatFilesGlob(pathGlob: string, options?): Promise&lt;Result&lt;undefined, unknown&gt;&gt;</code><a href="#-20" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Formats files matching a glob pattern using Prettier.</p>
<pre><code class="tsx"><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-9">type</span><span class="hl-1"> </span><span class="hl-10">ExecException</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node:child_process&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">type</span><span class="hl-1"> </span><span class="hl-12">Ret</span><span class="hl-1"> = </span><span class="hl-12">Promise</span><span class="hl-1">&lt;</span><br/><span class="hl-1">    </span><span class="hl-12">Result</span><span class="hl-1">&lt;</span><br/><span class="hl-1">        </span><span class="hl-12">undefined</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-12">ExecException</span><span class="hl-1"> | </span><span class="hl-12">Readonly</span><span class="hl-1">&lt;{ </span><span class="hl-10">message</span><span class="hl-1">: </span><span class="hl-12">string</span><span class="hl-1"> }&gt; | </span><span class="hl-3">readonly</span><span class="hl-1"> </span><span class="hl-12">unknown</span><span class="hl-1">[]</span><br/><span class="hl-1">    &gt;</span><br/><span class="hl-1">&gt;;</span>
</code><button type="button">Copy</button></pre>

<p><strong>Options:</strong></p>
<ul>
<li><code>silent?</code> - Suppress output messages (default: false)</li>
<li><code>ignoreUnknown?</code> - Skip files without a Prettier parser instead of erroring (default: true)</li>
<li><code>ignore?</code> - Custom function to ignore files (default: built-in ignore list)</li>
</ul>
<h4 id="-21" class="tsd-anchor-link"><code>formatUncommittedFiles(options?): Promise&lt;Result&gt;</code><a href="#-21" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Formats only files that have been changed according to git status.
(Function version of the <code>format-uncommitted</code> command)</p>
<pre><code class="tsx"><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-10">formatDiffFrom</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-repo-utils&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Format files different from main branch</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">formatDiffFrom</span><span class="hl-1">(</span><span class="hl-2">&#39;main&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Format files different from specific commit</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">formatDiffFrom</span><span class="hl-1">(</span><span class="hl-2">&#39;abc123&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// With custom options</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">formatDiffFrom</span><span class="hl-1">(</span><span class="hl-2">&#39;main&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-10">includeUntracked:</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">ignore</span><span class="hl-10">:</span><span class="hl-1"> (</span><span class="hl-10">filePath</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-10">filePath</span><span class="hl-1">.</span><span class="hl-0">includes</span><span class="hl-1">(</span><span class="hl-2">&#39;vendor&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-10">ignoreUnknown:</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1">, </span><span class="hl-4">// Error on files without parser</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>Options:</strong></p>
<ul>
<li><code>untracked?</code> - Format untracked files (default: true)</li>
<li><code>modified?</code> - Format modified files (default: true)</li>
<li><code>staged?</code> - Format staged files (default: true)</li>
<li><code>silent?</code> - Suppress output messages (default: false)</li>
<li><code>ignoreUnknown?</code> - Skip files without a Prettier parser instead of erroring (default: true)</li>
<li><code>ignore?</code> - Custom function to ignore files (default: built-in ignore list)</li>
</ul>
<p><strong>Return Type:</strong></p>
<pre><code class="tsx"><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-9">type</span><span class="hl-1"> </span><span class="hl-10">ExecException</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;node:child_process&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">type</span><span class="hl-1"> </span><span class="hl-12">Ret</span><span class="hl-1"> = </span><span class="hl-12">Promise</span><span class="hl-1">&lt;</span><br/><span class="hl-1">    </span><span class="hl-12">Result</span><span class="hl-1">&lt;</span><br/><span class="hl-1">        </span><span class="hl-12">undefined</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-12">ExecException</span><span class="hl-1"> | </span><span class="hl-12">Readonly</span><span class="hl-1">&lt;{ </span><span class="hl-10">message</span><span class="hl-1">: </span><span class="hl-12">string</span><span class="hl-1"> }&gt; | </span><span class="hl-3">readonly</span><span class="hl-1"> </span><span class="hl-12">unknown</span><span class="hl-1">[]</span><br/><span class="hl-1">    &gt;</span><br/><span class="hl-1">&gt;;</span>
</code><button type="button">Copy</button></pre>

<h4 id="-22" class="tsd-anchor-link"><code>formatDiffFrom(base: string, options?): Promise&lt;Result&gt;</code><a href="#-22" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Formats only files that differ from the specified base branch or commit.
(Function version of the <code>format-diff-from</code> command)</p>
<pre><code class="tsx"><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-10">genIndex</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-repo-utils&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">genIndex</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-10">targetDirectory:</span><span class="hl-1"> </span><span class="hl-2">&#39;./src&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">exclude:</span><span class="hl-1"> [</span><span class="hl-2">&#39;*.test.ts&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;*.spec.ts&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>Options:</strong></p>
<ul>
<li><code>includeUntracked?</code> - Include untracked files in addition to diff files (default: true)</li>
<li><code>includeModified?</code> - Include modified files in addition to diff files (default: true)</li>
<li><code>includeStaged?</code> - Include staged files in addition to diff files (default: true)</li>
<li><code>silent?</code> - Suppress output messages (default: false)</li>
<li><code>ignoreUnknown?</code> - Skip files without a Prettier parser instead of erroring (default: true)</li>
<li><code>ignore?</code> - Custom function to ignore files (default: built-in ignore list)</li>
</ul>
<p><strong>Return Type:</strong></p>
<pre><code class="tsx"><span class="hl-3">type</span><span class="hl-1"> </span><span class="hl-12">GenIndexConfig</span><span class="hl-1"> = </span><span class="hl-12">Readonly</span><span class="hl-1">&lt;{</span><br/><span class="hl-1">    </span><span class="hl-4">/** Target directories to generate index files for (string or array of strings) */</span><br/><span class="hl-1">    </span><span class="hl-10">targetDirectory</span><span class="hl-1">: </span><span class="hl-12">string</span><span class="hl-1"> | </span><span class="hl-3">readonly</span><span class="hl-1"> </span><span class="hl-12">string</span><span class="hl-1">[];</span><br/><br/><span class="hl-1">    </span><span class="hl-4">/**</span><br/><span class="hl-4">     * Glob patterns for files or predicate function to exclude from exports</span><br/><span class="hl-4">     * (default: excludes `&#39;**\/*.{test,spec}.?(c|m)[jt]s?(x)&#39;` and</span><br/><span class="hl-4">     * `&#39;**\/*.d.?(c|m)ts&#39;`)</span><br/><span class="hl-4">     */</span><br/><span class="hl-1">    </span><span class="hl-10">exclude</span><span class="hl-1">?:</span><br/><span class="hl-1">        | </span><span class="hl-3">readonly</span><span class="hl-1"> </span><span class="hl-12">string</span><span class="hl-1">[]</span><br/><span class="hl-1">        | ((</span><br/><span class="hl-1">              </span><span class="hl-10">args</span><span class="hl-1">: </span><span class="hl-12">Readonly</span><span class="hl-1">&lt;{</span><br/><span class="hl-1">                  </span><span class="hl-10">absolutePath</span><span class="hl-1">: </span><span class="hl-12">string</span><span class="hl-1">;</span><br/><span class="hl-1">                  </span><span class="hl-10">relativePath</span><span class="hl-1">: </span><span class="hl-12">string</span><span class="hl-1">;</span><br/><span class="hl-1">                  </span><span class="hl-10">fileName</span><span class="hl-1">: </span><span class="hl-12">string</span><span class="hl-1">;</span><br/><span class="hl-1">              }&gt;,</span><br/><span class="hl-1">          ) </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-12">boolean</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-4">/**</span><br/><span class="hl-4">     * File extensions of source files to include in exports (default: [&#39;.ts&#39;,</span><br/><span class="hl-4">     * &#39;.tsx&#39;])</span><br/><span class="hl-4">     */</span><br/><span class="hl-1">    </span><span class="hl-10">targetExtensions</span><span class="hl-1">?: </span><span class="hl-3">readonly</span><span class="hl-1"> </span><span class="hl-2">`.</span><span class="hl-3">${</span><span class="hl-12">string</span><span class="hl-3">}</span><span class="hl-2">`</span><span class="hl-1">[];</span><br/><br/><span class="hl-1">    </span><span class="hl-4">/** File extension of index files to generate (default: &#39;.ts&#39;) */</span><br/><span class="hl-1">    </span><span class="hl-10">indexFileExtension</span><span class="hl-1">?: </span><span class="hl-2">`.</span><span class="hl-3">${</span><span class="hl-12">string</span><span class="hl-3">}</span><span class="hl-2">`</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-4">/** File extension to use in export statements (default: &#39;.js&#39;) */</span><br/><span class="hl-1">    </span><span class="hl-10">exportStatementExtension</span><span class="hl-1">?: </span><span class="hl-2">`.</span><span class="hl-3">${</span><span class="hl-12">string</span><span class="hl-3">}</span><span class="hl-2">`</span><span class="hl-1"> | </span><span class="hl-2">&#39;none&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-4">/** Command to run for formatting generated files (optional) */</span><br/><span class="hl-1">    </span><span class="hl-10">formatCommand</span><span class="hl-1">?: </span><span class="hl-12">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-4">/** Whether to suppress output during execution (default: false) */</span><br/><span class="hl-1">    </span><span class="hl-10">silent</span><span class="hl-1">?: </span><span class="hl-12">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">}&gt;;</span>
</code><button type="button">Copy</button></pre>

<h3 id="index-file-generation" class="tsd-anchor-link">Index File Generation<a href="#index-file-generation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="-23" class="tsd-anchor-link"><code>genIndex(config: GenIndexConfig): Promise&lt;Result&lt;undefined, unknown&gt;&gt;</code><a href="#-23" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Generates index files recursively in target directories with automatic barrel exports.
(Function version of the <code>gen-index-ts</code> command)</p>
<pre><code class="tsx"><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-10">runCmdInStagesAcrossWorkspaces</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-repo-utils&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Run build in dependency order</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">runCmdInStagesAcrossWorkspaces</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-10">rootPackageJsonDir:</span><span class="hl-1"> </span><span class="hl-2">&#39;../&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">cmd:</span><span class="hl-1"> </span><span class="hl-2">&#39;build&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">concurrency:</span><span class="hl-1"> </span><span class="hl-13">3</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">filterWorkspacePattern</span><span class="hl-10">:</span><span class="hl-1"> (</span><span class="hl-10">name</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> !</span><span class="hl-10">name</span><span class="hl-1">.</span><span class="hl-0">includes</span><span class="hl-1">(</span><span class="hl-2">&#39;experimental&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>Configuration Type:</strong></p>
<pre><code class="tsx"><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-10">runCmdInParallelAcrossWorkspaces</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-repo-utils&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Run tests in parallel across all packages</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">runCmdInParallelAcrossWorkspaces</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-10">rootPackageJsonDir:</span><span class="hl-1"> </span><span class="hl-2">&#39;../&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">cmd:</span><span class="hl-1"> </span><span class="hl-2">&#39;test&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">concurrency:</span><span class="hl-1"> </span><span class="hl-13">5</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">filterWorkspacePattern</span><span class="hl-10">:</span><span class="hl-1"> (</span><span class="hl-10">name</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> !</span><span class="hl-10">name</span><span class="hl-1">.</span><span class="hl-0">includes</span><span class="hl-1">(</span><span class="hl-2">&#39;experimental&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p><strong>Features:</strong></p>
<ul>
<li>Creates barrel exports for all subdirectories</li>
<li>Supports complex glob exclusion patterns (using micromatch)</li>
<li>Automatically formats generated files using the project's Prettier config</li>
<li>Works with both single directories and directory arrays</li>
<li>Respects source and export extension configuration</li>
</ul>
<p><strong>Benefits:</strong></p>
<ul>
<li>Prevents forgetting to export modules</li>
<li>TypeScript can detect duplicate variables, type names, etc.</li>
</ul>
<h3 id="monorepo-workspace-management-utilities" class="tsd-anchor-link">Monorepo Workspace Management Utilities<a href="#monorepo-workspace-management-utilities" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="-24" class="tsd-anchor-link"><code>runCmdInStagesAcrossWorkspaces(options): Promise&lt;void&gt;</code><a href="#-24" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Executes an npm script command across all workspace packages in dependency order stages. Packages are grouped into stages where each stage contains packages whose dependencies have been completed in previous stages. Uses fail-fast behavior.</p>
<pre><code class="tsx"><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-10">getWorkspacePackages</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-repo-utils&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">packages</span><span class="hl-1"> = </span><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">getWorkspacePackages</span><span class="hl-1">(</span><span class="hl-2">&#39;.&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-10">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-10">packages</span><span class="hl-1">.</span><span class="hl-0">map</span><span class="hl-1">((</span><span class="hl-10">pkg</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-10">pkg</span><span class="hl-1">.</span><span class="hl-10">name</span><span class="hl-1">));</span><br/><span class="hl-4">// [&#39;@myorg/package-a&#39;, &#39;@myorg/package-b&#39;, ...]</span>
</code><button type="button">Copy</button></pre>

<p><strong>Options:</strong></p>
<ul>
<li><code>rootPackageJsonDir</code> - Directory containing the root package.json file</li>
<li><code>cmd</code> - The npm script command to execute in each package</li>
<li><code>concurrency?</code> - Maximum packages to process simultaneously within each stage (default: 3)</li>
<li><code>filterWorkspacePattern?</code> - Optional function to filter packages by name</li>
</ul>
<h4 id="-25" class="tsd-anchor-link"><code>runCmdInParallelAcrossWorkspaces(options): Promise&lt;void&gt;</code><a href="#-25" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Executes an npm script command across all workspace packages in parallel. Uses fail-fast behavior - stops execution immediately when any package fails.</p>
<pre><code class="tsx"><span class="hl-3">type</span><span class="hl-1"> </span><span class="hl-12">Package</span><span class="hl-1"> = </span><span class="hl-12">Readonly</span><span class="hl-1">&lt;{</span><br/><span class="hl-1">    </span><span class="hl-10">name</span><span class="hl-1">: </span><span class="hl-12">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-10">path</span><span class="hl-1">: </span><span class="hl-12">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-10">packageJson</span><span class="hl-1">: </span><span class="hl-12">JsonValue</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-10">dependencies</span><span class="hl-1">: </span><span class="hl-12">Readonly</span><span class="hl-1">&lt;</span><span class="hl-12">Record</span><span class="hl-1">&lt;</span><span class="hl-12">string</span><span class="hl-1">, </span><span class="hl-12">string</span><span class="hl-1">&gt;&gt;;</span><br/><span class="hl-1">}&gt;;</span>
</code><button type="button">Copy</button></pre>

<p><strong>Options:</strong></p>
<ul>
<li><code>rootPackageJsonDir</code> - Directory containing the root package.json file</li>
<li><code>cmd</code> - The npm script command to execute in each package</li>
<li><code>concurrency?</code> - Maximum packages to process simultaneously (default: 3)</li>
<li><code>filterWorkspacePattern?</code> - Optional function to filter packages by name</li>
</ul>
<h4 id="-26" class="tsd-anchor-link"><code>getWorkspacePackages(rootPackageJsonDir): Promise&lt;readonly Package[]&gt;</code><a href="#-26" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Retrieves all workspace packages from a monorepo based on the workspace patterns defined in the root package.json file.</p>
<pre><code class="tsx"><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-10">executeParallel</span><span class="hl-1">, </span><span class="hl-10">getWorkspacePackages</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-repo-utils&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">packages</span><span class="hl-1"> = </span><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">getWorkspacePackages</span><span class="hl-1">(</span><span class="hl-2">&#39;.&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">executeParallel</span><span class="hl-1">(</span><span class="hl-10">packages</span><span class="hl-1">, </span><span class="hl-2">&#39;lint&#39;</span><span class="hl-1">, </span><span class="hl-13">4</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p><strong>Return Type:</strong></p>
<pre><code class="tsx"><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-10">executeStages</span><span class="hl-1">, </span><span class="hl-10">getWorkspacePackages</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-repo-utils&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">packages</span><span class="hl-1"> = </span><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">getWorkspacePackages</span><span class="hl-1">(</span><span class="hl-2">&#39;.&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">executeStages</span><span class="hl-1">(</span><span class="hl-10">packages</span><span class="hl-1">, </span><span class="hl-2">&#39;build&#39;</span><span class="hl-1">, </span><span class="hl-13">3</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h4 id="-27" class="tsd-anchor-link"><code>executeParallel(packages, scriptName, concurrency?): Promise&lt;readonly Result[]&gt;</code><a href="#-27" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Executes an npm script across multiple packages in parallel with a concurrency limit. Lower-level function used by <code>runCmdInParallelAcrossWorkspaces</code>.</p>
<pre><code class="tsx"><span class="hl-9">import</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-repo-utils&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Now these functions are globally available</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">result</span><span class="hl-1"> = </span><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">$</span><span class="hl-1">(</span><span class="hl-2">&#39;npm test&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-9">if</span><span class="hl-1"> (</span><span class="hl-10">Result</span><span class="hl-1">.</span><span class="hl-0">isErr</span><span class="hl-1">(</span><span class="hl-10">result</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-10">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-10">result</span><span class="hl-1">.</span><span class="hl-10">value</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-0">echo</span><span class="hl-1">(</span><span class="hl-2">&#39;Building project...&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">filePath</span><span class="hl-1">: </span><span class="hl-12">string</span><span class="hl-1"> = </span><span class="hl-10">path</span><span class="hl-1">.</span><span class="hl-0">join</span><span class="hl-1">(</span><span class="hl-2">&#39;src&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;index.ts&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">configJson</span><span class="hl-1">: </span><span class="hl-12">string</span><span class="hl-1"> = </span><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-10">fs</span><span class="hl-1">.</span><span class="hl-0">readFile</span><span class="hl-1">(</span><span class="hl-2">&#39;./config.json&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-10">encoding:</span><span class="hl-1"> </span><span class="hl-2">&#39;utf8&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">home</span><span class="hl-1"> = </span><span class="hl-10">os</span><span class="hl-1">.</span><span class="hl-0">homedir</span><span class="hl-1">();</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">files</span><span class="hl-1">: </span><span class="hl-3">readonly</span><span class="hl-1"> </span><span class="hl-12">string</span><span class="hl-1">[] = </span><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">glob</span><span class="hl-1">(</span><span class="hl-2">&#39;**/*.ts&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-9">if</span><span class="hl-1"> (</span><span class="hl-0">isDirectlyExecuted</span><span class="hl-1">(</span><span class="hl-9">import</span><span class="hl-1">.</span><span class="hl-10">meta</span><span class="hl-1">.</span><span class="hl-10">url</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-0">echo</span><span class="hl-1">(</span><span class="hl-2">&#39;Running as CLI&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h4 id="-28" class="tsd-anchor-link"><code>executeStages(packages, scriptName, concurrency?): Promise&lt;void&gt;</code><a href="#-28" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Executes an npm script across packages in dependency order stages. Lower-level function used by <code>runCmdInStagesAcrossWorkspaces</code>.</p>
<pre><code class="tsx"><span class="hl-9">import</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-10">assertExt</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">assertRepoIsClean</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">formatUncommittedFiles</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-repo-utils&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Validate file extensions</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">assertExt</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-10">directories:</span><span class="hl-1"> [{ </span><span class="hl-10">path:</span><span class="hl-1"> </span><span class="hl-2">&#39;./src&#39;</span><span class="hl-1">, </span><span class="hl-10">extension:</span><span class="hl-1"> </span><span class="hl-2">&#39;.ts&#39;</span><span class="hl-1"> }],</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Format changed files</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">formatUncommittedFiles</span><span class="hl-1">();</span><br/><br/><span class="hl-4">// Ensure repository is clean (exits if dirty)</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">assertRepoIsClean</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<p><strong>Features:</strong></p>
<ul>
<li>Automatic dependency graph construction</li>
<li>Topological sorting for correct build order</li>
<li>Parallel execution within each stage</li>
<li>Fail-fast behavior on errors</li>
<li>Circular dependency detection</li>
</ul>
<h3 id="globals" class="tsd-anchor-link">Globals<a href="#globals" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>When you import <code>ts-repo-utils</code> without destructuring, several utilities become globally available. This is useful for scripts where you want quick access to common functions without explicit imports.</p>
<pre><code class="tsx"><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-10">formatFilesGlob</span><span class="hl-1">, </span><span class="hl-10">genIndex</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-repo-utils&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Generate barrel exports</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">genIndex</span><span class="hl-1">({ </span><span class="hl-10">targetDirectory:</span><span class="hl-1"> </span><span class="hl-2">&#39;./src&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-4">// Type check</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">$</span><span class="hl-1">(</span><span class="hl-2">&#39;tsc --noEmit&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Build</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">$</span><span class="hl-1">(</span><span class="hl-2">&#39;rollup -c&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Format output</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">formatFilesGlob</span><span class="hl-1">(</span><span class="hl-2">&#39;dist/**/*.js&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<ul>
<li><code>$</code> - The command execution utility described above.</li>
<li><code>Result</code> - A utility for Result pattern (from <a href="https://github.com/noshiro-pf/ts-data-forge#readme">ts-data-forge</a>)</li>
<li><code>echo</code> - Equivalent to <code>console.log</code></li>
<li><code>cd</code> - Equivalent to <code>process.chdir</code></li>
<li><code>path</code> - <code>node:path</code></li>
<li><code>fs</code> - <code>node:fs/promises</code></li>
<li><code>os</code> - <code>node:os</code></li>
<li><code>glob</code> - <code>fast-glob</code></li>
<li><code>isDirectlyExecuted</code> - The script execution utility described above.</li>
</ul>
<h2 id="common-patterns" class="tsd-anchor-link">Common Patterns<a href="#common-patterns" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="pre-commit-hook" class="tsd-anchor-link">Pre-commit Hook<a href="#pre-commit-hook" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="tsx"><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-10">assertExt</span><span class="hl-1">, </span><span class="hl-10">assertPathExists</span><span class="hl-1">, </span><span class="hl-10">assertRepoIsClean</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-repo-utils&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Check required files exist (exits with code 1 if files don&#39;t exist)</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">assertPathExists</span><span class="hl-1">(</span><span class="hl-2">&#39;./package.json&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;Package manifest&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">assertPathExists</span><span class="hl-1">(</span><span class="hl-2">&#39;./tsconfig.json&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;TypeScript config&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Validate extensions</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">assertExt</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-10">directories:</span><span class="hl-1"> [</span><br/><span class="hl-1">        { </span><span class="hl-10">path:</span><span class="hl-1"> </span><span class="hl-2">&#39;./src&#39;</span><span class="hl-1">, </span><span class="hl-10">extension:</span><span class="hl-1"> </span><span class="hl-2">&#39;.ts&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">        { </span><span class="hl-10">path:</span><span class="hl-1"> </span><span class="hl-2">&#39;./scripts&#39;</span><span class="hl-1">, </span><span class="hl-10">extension:</span><span class="hl-1"> </span><span class="hl-2">&#39;.mjs&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Verify clean repository state (exits with code 1 if repo is dirty)</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">assertRepoIsClean</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<h3 id="build-pipeline" class="tsd-anchor-link">Build Pipeline<a href="#build-pipeline" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="tsx"><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-10">formatFilesGlob</span><span class="hl-1">, </span><span class="hl-10">genIndex</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-repo-utils&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Generate barrel exports</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">genIndex</span><span class="hl-1">({ </span><span class="hl-10">targetDirectory:</span><span class="hl-1"> </span><span class="hl-2">&#39;./src&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-4">// Type check</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">$</span><span class="hl-1">(</span><span class="hl-2">&#39;tsc --noEmit&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Build</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">$</span><span class="hl-1">(</span><span class="hl-2">&#39;rollup -c&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Format output</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">formatFilesGlob</span><span class="hl-1">(</span><span class="hl-2">&#39;dist/**/*.js&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="project-validation" class="tsd-anchor-link">Project Validation<a href="#project-validation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="tsx"><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-10">assertExt</span><span class="hl-1">, </span><span class="hl-10">assertPathExists</span><span class="hl-1">, </span><span class="hl-10">assertRepoIsClean</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;ts-repo-utils&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Check required files exist (exits with code 1 if files don&#39;t exist)</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">assertPathExists</span><span class="hl-1">(</span><span class="hl-2">&#39;./package.json&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;Package manifest&#39;</span><span class="hl-1">);</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">assertPathExists</span><span class="hl-1">(</span><span class="hl-2">&#39;./tsconfig.json&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;TypeScript config&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Validate extensions</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">assertExt</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-10">directories:</span><span class="hl-1"> [</span><br/><span class="hl-1">        { </span><span class="hl-10">path:</span><span class="hl-1"> </span><span class="hl-2">&#39;./src&#39;</span><span class="hl-1">, </span><span class="hl-10">extension:</span><span class="hl-1"> </span><span class="hl-2">&#39;.ts&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">        { </span><span class="hl-10">path:</span><span class="hl-1"> </span><span class="hl-2">&#39;./scripts&#39;</span><span class="hl-1">, </span><span class="hl-10">extension:</span><span class="hl-1"> </span><span class="hl-2">&#39;.mjs&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Verify clean repository state (exits with code 1 if repo is dirty)</span><br/><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-0">assertRepoIsClean</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<h2 id="license" class="tsd-anchor-link">License<a href="#license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Apache-2.0</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#ts-repo-utils"><span>ts-<wbr/>repo-<wbr/>utils</span></a><ul><li><a href="#documentation"><span>Documentation</span></a></li><li><a href="#installation"><span>Installation</span></a></li><li><a href="#cli-commands"><span>CLI <wbr/>Commands</span></a></li><li><ul><li><a href="#"><span></span></a></li><li><a href="#-1"><span></span></a></li><li><a href="#-2"><span></span></a></li><li><a href="#-3"><span></span></a></li><li><a href="#-4"><span></span></a></li></ul></li><li><a href="#api-reference"><span>API <wbr/>Reference</span></a></li><li><ul><li><a href="#command-execution"><span>Command <wbr/>Execution</span></a></li><li><ul><li><a href="#-5"><span></span></a></li></ul></li><li><a href="#script-execution-utilities"><span>Script <wbr/>Execution <wbr/>Utilities</span></a></li><li><ul><li><a href="#-6"><span></span></a></li></ul></li><li><a href="#path-and-file-system-utilities"><span>Path and <wbr/>File <wbr/>System <wbr/>Utilities</span></a></li><li><ul><li><a href="#-7"><span></span></a></li><li><a href="#-8"><span></span></a></li><li><a href="#-9"><span></span></a></li><li><a href="#-10"><span></span></a></li></ul></li><li><a href="#result-utilities"><span>Result <wbr/>Utilities</span></a></li><li><ul><li><a href="#-11"><span></span></a></li><li><a href="#-12"><span></span></a></li></ul></li><li><a href="#git-repository-utilities"><span>Git <wbr/>Repository <wbr/>Utilities</span></a></li><li><ul><li><a href="#-13"><span></span></a></li><li><a href="#-14"><span></span></a></li><li><a href="#getting-git-diff-files"><span>Getting <wbr/>Git diff files</span></a></li><li><ul><li><a href="#-15"><span></span></a></li><li><a href="#-16"><span></span></a></li><li><a href="#-17"><span></span></a></li><li><a href="#-18"><span></span></a></li></ul></li><li><a href="#build-optimization-utilities"><span>Build <wbr/>Optimization <wbr/>Utilities</span></a></li><li><ul><li><a href="#-19"><span></span></a></li></ul></li></ul></li><li><a href="#code-formatting-utilities"><span>Code <wbr/>Formatting <wbr/>Utilities</span></a></li><li><ul><li><a href="#-20"><span></span></a></li><li><a href="#-21"><span></span></a></li><li><a href="#-22"><span></span></a></li></ul></li><li><a href="#index-file-generation"><span>Index <wbr/>File <wbr/>Generation</span></a></li><li><ul><li><a href="#-23"><span></span></a></li></ul></li><li><a href="#monorepo-workspace-management-utilities"><span>Monorepo <wbr/>Workspace <wbr/>Management <wbr/>Utilities</span></a></li><li><ul><li><a href="#-24"><span></span></a></li><li><a href="#-25"><span></span></a></li><li><a href="#-26"><span></span></a></li><li><a href="#-27"><span></span></a></li><li><a href="#-28"><span></span></a></li></ul></li><li><a href="#globals"><span>Globals</span></a></li></ul></li><li><a href="#common-patterns"><span>Common <wbr/>Patterns</span></a></li><li><ul><li><a href="#pre-commit-hook"><span>Pre-<wbr/>commit <wbr/>Hook</span></a></li><li><a href="#build-pipeline"><span>Build <wbr/>Pipeline</span></a></li><li><a href="#project-validation"><span>Project <wbr/>Validation</span></a></li></ul></li><li><a href="#license"><span>License</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">ts-repo-utils</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a> with <a href="https://github.com/JulianWowra/typedoc-github-theme" target="_blank">typedoc-github-theme</a></p></footer><div class="overlay"></div></body></html>
